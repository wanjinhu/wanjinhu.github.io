<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.3">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2023-08-30T10:38:32+08:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">Wanjin Hu (èƒ¡ä¸‡é‡‘)</title><subtitle>There is only one heroism in the world: to see the world as it is and to love it. (ä¸–ç•Œä¸Šåªæœ‰ä¸€ç§çœŸæ­£çš„è‹±é›„ä¸»ä¹‰ï¼Œé‚£å°±æ˜¯è®¤æ¸…ç”Ÿæ´»çœŸç›¸åä¾æ—§çƒ­çˆ±ç”Ÿæ´»ã€‚)</subtitle><author><name>Wanjin Hu (èƒ¡ä¸‡é‡‘)</name></author><entry><title type="html">ã€Šäººç”ŸåäºŒæ³•åˆ™ã€‹è¯»åçš„ä¸ªäººæ€è€ƒ</title><link href="http://localhost:4000/2023/08/30/reading-12rules-for-life/" rel="alternate" type="text/html" title="ã€Šäººç”ŸåäºŒæ³•åˆ™ã€‹è¯»åçš„ä¸ªäººæ€è€ƒ" /><published>2023-08-30T00:00:00+08:00</published><updated>2023-08-30T00:00:00+08:00</updated><id>http://localhost:4000/2023/08/30/reading-12rules-for-life</id><content type="html" xml:base="http://localhost:4000/2023/08/30/reading-12rules-for-life/">&lt;p&gt;çœŸçš„æœ‰12æ¡æ³•åˆ™å¯ä»¥æ¥æŒ‡å¯¼ä½ è¿‡çš„äººç”Ÿä¹ˆï¼Ÿæˆ‘å¼€å§‹æ€è€ƒè‡ªå·±çš„äººç”Ÿã€‚&lt;/p&gt;

&lt;p&gt;çœ‹åˆ°ä¹¦åï¼Œä½ ä¼°è®¡å¯èƒ½ä¼šæƒ³è¿™æœ¬ä¹¦å°±æ˜¯ä¸€ä¸ªç‰¹å‚»çš„é¸¡æ±¤æ–‡ï¼Œè¿™éƒ½ä»€ä¹ˆå¹´ä»£äº†è¿˜æè¿™ä¸€å‡ºï¼Ÿè¿™ä¸ªæ—¶ä»£æå€¡çš„æ˜¯ä¸ªæ€§ï¼Œæ˜¯åŒ…å®¹ï¼Œæ˜¯å¤šå…ƒï¼Œæ˜¯è‡ªç”±ï¼Œæ˜¯ç‹¬ç«‹ï¼Œæ˜¯å¼€æ”¾ï¼Œæ˜¯åšçˆ±ã€‚çœŸå°±æŒæ¡äº†ä½ è¯´çš„è¿™12æ¡æ³•åˆ™å°±èƒ½è¿‡å¥½æˆ‘çš„äººç”Ÿä¹ˆï¼Ÿç”¨è„šè¶¾å¤´æƒ³æƒ³éƒ½è§‰å¾—ä¸å¯èƒ½ï¼Œä½ äº†è§£æˆ‘æ˜¯è°ä¹ˆï¼Ÿä½ çŸ¥é“æˆ‘ç»å†äº†ä»€ä¹ˆï¼Ÿä½ çŸ¥é“æˆ‘æœ€è¿‘æœ‰å¤šç—›è‹¦ä¹ˆï¼Ÿæ²¡äººå¯ä»¥å®šä¹‰æˆ‘çš„äººç”Ÿï¼Œæˆ‘çš„äººç”Ÿåªèƒ½æˆ‘è‡ªå·±æ¥å®šä¹‰ã€‚æˆ‘æœ‰æˆ‘è‡ªå·±çš„æƒ³æ³•å’Œé€‰æ‹©ï¼Œæˆ‘å’Œå…¶ä»–äººå¹¶ä¸ä¸€æ ·ã€‚æ‰€ä»¥æˆ‘å‹æ ¹å°±æ‡’å¾—å¬ä½ æ‰¯è¿™äº›å¤§é“ç†ï¼Œè¯¥æ‡‚å¾—é“ç†æˆ‘éƒ½æ‡‚ï¼Œæˆ‘åªæ˜¯åšä¸åˆ°ã€‚&lt;/p&gt;

&lt;p&gt;ä»¥ä¸Šè¿™äº›æƒ³æ³•å¤šå°‘åœ¨ä½ çš„è„‘æµ·ä¸­æœ‰è¿‡ï¼Œå†åŠ ä¸Šç°åœ¨äº’è”ç½‘çš„é«˜åº¦å‘è¾¾ï¼Œå„ç§ç¤¾äº¤åª’ä½“çš„åŒ…è£…ï¼Œè¿˜æœ‰å„ç§ç°å®é—®é¢˜çš„å›°æ‰°ï¼Œä½ å¾ˆéš¾ä¸é™·å…¥åˆ°è¿™ç§æ€ç»´ä¸­ã€‚å¹³æ—¶ç”Ÿæ´»å·¥ä½œæ€»ä¼šå¸¦ç€é¢å…·ï¼Œè™šä¼ªçš„å¯¹å¤–ç•Œå±•ç¤ºè‡ªå·±ï¼Œåˆ°äº†æ·±å¤œå†è¿›è¡Œäººç”Ÿæ€è€ƒï¼Œå„ç§emoçš„æƒ…ç»ªå°±ä¼šçˆ†å‘ï¼Œå†å½±å“ç¬¬äºŒå¤©è‡ªå·±çš„ç”Ÿæ´»ï¼Œå¾ªç¯å¾€å¤ã€‚è¯´å®è¯ï¼Œæ²¡æœ‰äººä¼šä¸å»æ€è€ƒè‡ªå·±çš„äººç”Ÿï¼Œäººç”Ÿå­˜åœ¨çš„ç›®çš„ä»·å€¼ï¼Œä½†æ˜¯æ­£å¦‚ä¸Šé¢æåˆ°çš„é‚£äº›ï¼Œæ‰§æ‹—çš„å»ç§‰æŒè‡ªå·±çš„è§‚ç‚¹ï¼Œè€Œè¿™äº›è§‚ç‚¹ç”šè‡³ä¸æ˜¯è‡ªå·±æ€è€ƒè·å¾—çš„ï¼Œè€Œæ˜¯å„ç§å½¢å¼ä¸»ä¹‰çŒè¾“ç»™æˆ‘ä»¬çš„ã€‚è¿™æ ·çš„æ€è€ƒåªä¼šè®©äººæŠ‘éƒå’Œç©ºè™šã€‚&lt;/p&gt;

&lt;p&gt;äººåœ¨å¹´è½»çš„æ—¶å€™ï¼Œæ—¢ç¼ºä¹ç‹¬ç«‹ä¹Ÿç¼ºå°‘è®¤çŸ¥ï¼Œå› ä¸ºè¿˜æ²¡æ¥å¾—åŠç§¯ç´¯é˜…å†å’Œæ™ºæ…§æ¥å»ºç«‹èµ·è‡ªå·±çš„ä¸ªäººæ ‡å‡†ï¼Œæ‰€ä»¥å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œåªå¥½å’Œä»–äººåšæ¯”è¾ƒã€‚å¤§ä½“ä¸Šï¼Œæˆ‘æƒ³äººç”Ÿçš„æˆé•¿è¿‡ç¨‹ä¸­æ€»ä¼šç»å†è¿™ä¸ªé˜¶æ®µã€‚å¦‚æœä½ ä¸æƒ³å’Œä»–äººåšæ¯”è¾ƒï¼Œå°±å¾—é€æ¸å»ºç«‹èµ·è‡ªå·±çš„æ ‡å‡†ï¼Œæœ‰æ˜ç¡®çš„ä¸–ç•Œè§‚ã€äººç”Ÿè§‚å’Œä»·å€¼è§‚ã€‚å¦åˆ™ä¸€å¥â€œæˆ‘åªæƒ³åšè‡ªå·±ï¼Œä¸æƒ³å’Œä»–äººæ¯”è¾ƒâ€ä¹‹ç±»çš„è¯ï¼Œå°±æ˜¯å¾ˆå¯ç¬‘å’Œæ²¡æœ‰ä»½é‡çš„ï¼Œå¯èƒ½åªæ˜¯è‡ªå·±é€ƒé¿çš„å€Ÿå£ã€‚åˆ°åº•è¿™ç§å¬èµ·æ¥å¾ˆé…·çš„è‡ªæˆ‘å®£è¨€å±äºå“ªä¸€ç§ï¼Œææ€•åªæœ‰è‡ªå·±å†…å¿ƒæ·±å¤„æ˜ç™½ã€‚æˆ‘å¸Œæœ›ä¸è¦è‡ªæ¬ºæ¬ºäººï¼Œè‡³å°‘å¯¹è‡ªå·±åšåˆ°çœŸè¯šã€‚å‘å†…æ±‚ï¼Œä¸æ˜¯æ¬ºéª—è‡ªå·±çš„ç©ºè¯å’Œé€ƒé¿çš„å€Ÿå£ï¼Œè€Œæ˜¯ç¬¦åˆè‡ªæˆ‘æ ‡å‡†çš„çœŸæƒ…å®æ„Ÿï¼Œè¿™ä¹Ÿä¸æ˜¯å¹³ç™½æ— æ•…å°±å¯ä»¥æƒ³æ˜ç™½çš„ï¼Œå»è¯»ä¹¦/å­¦ä¹ /æ€»ç»“ï¼Œè‡³å°‘å¯¹ç°åœ¨çš„æˆ‘æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å‘æ±‚å†…çš„è·¯å¾„ã€‚&lt;/p&gt;

&lt;p&gt;ã€Šäººç”ŸåäºŒæ³•åˆ™ã€‹æ˜¯ä¹”ä¸¹â€¢çš®å¾—æ£® (Jordan B. Peterson) æ•™æˆå¾ˆæ—©ä¹‹å‰å†™çš„ä¸€æœ¬ä¹¦ã€‚äº†è§£åˆ°çš®å¾—æ£®æ•™æˆæ˜¯å› ä¸ºä»–ä¹‹å‰çš„ä¸€ä¸ªè®¿è°ˆç±»èŠ‚ç›®çš„ç‰‡æ®µï¼ˆè§†é¢‘é“¾æ¥æˆ‘ä¼šæ”¾åœ¨æœ€åï¼‰ï¼Œä»–èŠåˆ°çš„æ˜¯ä¸€ä¸ªäººåœ¨é¢å¯¹æ’’è°å’Œè®²å‡ºäº‹å®çš„é€‰æ‹©æ—¶ï¼Œä¸ºä»€ä¹ˆè¦å‹‡æ•¢çš„è®²çœŸè¯ã€‚é€ƒé¿æˆ–è€…è¯´å‡ºçœŸç›¸ï¼Œä¸ä»…ä»…æ˜¯ä¸¤ä¸ªä¸åŒçš„é€‰æ‹©ï¼Œæ›´æ˜¯ä¸¤æ¡äººç”Ÿé“è·¯ï¼Œä¸¤ç§å®Œå…¨ä¸åŒçš„å­˜åœ¨æ–¹å¼ã€‚æˆ‘éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œè¿™é‡Œè®²å‡ºäº‹å®ï¼Œä¸æ˜¯è®©ä½ ä¸é¡¾åŠä»»ä½•åæœçš„è¯´å‡ºçœŸç›¸ï¼Œè€Œæ˜¯è¦æ˜ç™½çœŸç›¸ï¼Œå¹¶åšå‡ºæ­£ç¡®çš„é€‰æ‹©ã€‚é‡åˆ°äº‰è®®ä¸è¦å®³æ€•è®²å‡ºè‡ªå·±çš„è§‚ç‚¹ï¼Œä¾ç…§äº‹å®åŸåˆ™ï¼Œéµå¾ªå†…å¿ƒçš„ä»·å€¼è§‚ï¼Œå‹‡æ•¢è¡¨æ˜è‡ªå·±çš„è§‚ç‚¹ï¼Œå¾ˆæœ‰å¯èƒ½ä½ ä¼šé­åˆ°æ‰¹åˆ¤å’Œå†·å˜²çƒ­è®½ï¼Œä½†æ˜¯æ²¡å…³ç³»ï¼Œä½ æ¯ä¸€æ¬¡çš„è¡Œä¸ºå°±æ˜¯ä¸ºå¡‘é€ ä½ ä¸ªäººä»·å€¼è§‚çš„ä¸€æ¬¡å·©å›ºã€‚è¿™æœ¬ä¹¦æ˜¯æˆ‘æ¢ç´¢äººç”Ÿæ„ä¹‰ä¸Šçš„ä¸€æœ¬å¾ˆé‡è¦çš„ä¹¦ï¼ŒæŸäº›æ—¶å€™å†…å¿ƒçš„é‚£ç§æ¾æ¹ƒæ„Ÿï¼Œç”±äºè‡ªå·±åŒ®ä¹çš„è®¤çŸ¥å’Œè¯­è¨€èƒ½åŠ›å¾ˆéš¾è¡¨è¾¾å‡ºæ¥ï¼Œçœ‹åˆ°è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œæˆ‘ä¼¼ä¹æ‰¾åˆ°äº†ä¸€ç§è¡¨è¾¾è‡ªå·±å†…å¿ƒæƒ³æ³•çš„é€”å¾„ï¼Œä¹¦é‡Œçš„æŸäº›è§‚ç‚¹ä¸æˆ‘çš„ä»·å€¼è§‚ä¸è°‹è€Œåˆï¼Œè®©æˆ‘è§‰å¾—è‡ªå·±çš„ä»·å€¼è§‚æ˜¯æ­£ç¡®çš„ï¼ŒåŒæ—¶æˆ‘ä¹Ÿå¯ä»¥ç”¨è¿™äº›è§‚ç‚¹æ¥æŒ‡å¯¼è‡ªå·±ï¼Œè®©è‡ªå·±å˜å¾—æ›´å¥½ã€‚&lt;/p&gt;

&lt;p&gt;ã€Šäººç”ŸåäºŒæ³•åˆ™ã€‹çš„å†™æ³•å¾ˆæœ‰è¶£ï¼Œæ¯æ¡æ³•åˆ™éƒ½ç”¨ä¸€ä¸ªå°æ•…äº‹ä½œä¸ºå¼•è¨€ï¼Œä¹Ÿå¾ˆç¬¦åˆçš®å¾—æ£®æ•™æˆçš„é£æ ¼ï¼Œä»–æœ¬èº«ä¹Ÿæ˜¯å¤§å­¦çš„å¿ƒç†å­¦æ•™æˆ(ä¸çŸ¥é“ç°åœ¨è¿˜åœ¨ä¸åœ¨èŒ)ï¼Œä»–ä»å‡ å¹´å‰å°±å¼€å§‹åœ¨ç½‘ç»œä¸Šå‘è‡ªå·±çš„ä¸Šè¯¾è§†é¢‘ï¼Œä»–å¾ˆæ“…é•¿ç”¨å¤å¸Œè…Šçš„ç¥è¯æ•…äº‹æˆ–è€…å…¶ä»–çš„æ•…äº‹æ¥å¼•å¯¼å¬ä¼—ã€‚åŒæ—¶ä»–ä¸€ç›´åœ¨ç”¨ä¸¥è‚ƒè®¤çœŸçš„æ€åº¦æ¥å¯¹å¾…æ¯ä¸ªæŠ›ç»™ä»–çš„é—®é¢˜ï¼Œæˆ‘éå¸¸æ¬£èµçš®å¾—æ£®æ•™æˆçš„è¿™ç§åšæ³•ï¼Œç°åœ¨è¿™ä¸ªæ—¶ä»£ï¼Œå¤§å®¶é¼“å¹çš„æ˜¯ä¸ªæ€§ã€å¹½é»˜å’Œä¸ªäººé­…åŠ›å¡‘é€ ï¼Œä»¥åŠå…¶ä»–å„ç§æ— æ„ä¹‰å’Œæµ®äºè¡¨é¢çš„è¯è¯­ï¼Œè€Œçš®å¾—æ£®æ•™æˆåˆ™ç”¨ä¸¥è‚ƒçš„æ€åº¦æ¥å¼•å¯¼å¤§å®¶æ€è€ƒäººç”Ÿï¼Œæˆ‘è§‰å¾—è¿™æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ä»–çš„æ€åº¦å’Œè¡Œä¸ºéƒ½è®©äººæ„Ÿè§‰å¾ˆå€¼å¾—å­¦ä¹ ã€‚&lt;/p&gt;

&lt;p&gt;ä¸‹é¢æ˜¯çš®å¾—æ£®æ•™æˆåœ¨ä¹¦ä¸­æ€»ç»“çš„åäºŒæ¡äººç”Ÿæ³•åˆ™ï¼š&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;æ³•åˆ™ä¸€ è·èƒœçš„é¾™è™¾ä»ä¸ä½å¤´ï¼šç¬”ç›´ç«™ç«‹ï¼Œæ˜‚é¦–æŒºèƒ¸&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™äºŒ åƒç…§é¡¾ç”Ÿç—…çš„å® ç‰©ä¸€æ ·å…³å¿ƒè‡ªå·±ï¼šå¾…å·±å¦‚åŠ©äºº&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™ä¸‰ æ‘†è„±æŸå‹ï¼šä¸çœŸå¿ƒå¸Œæœ›ä½ å¥½çš„äººåšæœ‹å‹&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™å›› æˆ˜èƒœå†…å¿ƒçš„æ‰¹è¯„å®¶ï¼šå’Œæ˜¨å¤©çš„è‡ªå·±æ¯”ï¼Œåˆ«å’Œä»Šå¤©çš„åˆ«äººæ¯”&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™äº” ç®¡æ•™ä½ å®¶çš„å°æ€ªç‰©ï¼šåˆ«è®©å­©å­åšå‡ºä»¤ä½ è®¨åŒä»–çš„äº‹&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™å…­ å½“ç—›è‹¦åˆ°æƒ³è¯…å’’ä¸€åˆ‡ï¼šæ‰¹åˆ¤ä¸–ç•Œä¹‹å‰å…ˆæ¸…ç†ä½ çš„æˆ¿é—´&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™ä¸ƒ è‹æ ¼æ‹‰åº•çš„é€‰æ‹©ï¼šè¿½æ±‚æ„ä¹‰ï¼Œæ‹’ç»è‹Ÿä¸”&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™å…« ä¸ä¹°é†‰é¬¼å–çš„ä¸œè¥¿ï¼šè¯´çœŸè¯ï¼Œæˆ–è€…è‡³å°‘åˆ«æ’’è°&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™ä¹ åˆ«å·èµ°æ¥è®¿è€…çš„é—®é¢˜ï¼šå‡è®¾ä½ è†å¬çš„äººçŸ¥é“ä½ ä¸çŸ¥é“çš„äº‹&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™å ä¸è¦æ— è§†åœ°æ¯¯ä¸‹çš„é¾™ï¼šç›´é¢é—®é¢˜ï¼Œè¨€è¾ç²¾ç¡®&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™åä¸€ ä¸è¦æ‰“æ‰°ç©æ»‘æ¿çš„å­©å­ä»¬ï¼šæ‰¿è®¤ç°å®ï¼Œåå¯¹åè§&lt;/li&gt;
  &lt;li&gt;æ³•åˆ™åäºŒ å½“ä½ åœ¨è¡—ä¸Šé‡åˆ°ä¸€åªçŒ«æ—¶ï¼Œæ‘¸æ‘¸å®ƒï¼šå…³æ³¨å­˜åœ¨çš„å–„&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;æ‰¹åˆ¤ä¸–ç•Œä¹‹å‰å…ˆæ¸…ç†ä½ çš„æˆ¿é—´ã€‚æˆ‘è§‰å¾—è¿™æ˜¯æ•´æœ¬ä¹¦çš„åŸºè°ƒï¼Œåœ¨ä½ æ²¡æœ‰è´Ÿèµ·å¯¹è‡ªå·±äººç”Ÿçš„è´£ä»»æ—¶ï¼Œä¸è¦è¿‡å¤šå…³æ³¨ä¸–ç•Œçš„çº·æ‰°ï¼Œè€Œæ˜¯å…ˆæ•´ç†å¥½è‡ªå·±ï¼Œè®©è‡ªå·±å˜å¾—æ›´æœ‰è´£ä»»æ„Ÿã€‚æ˜¯çš„ï¼Œè´£ä»»æ„Ÿã€‚ç°åœ¨å¤§å®¶å¥½åƒåœ¨ä¸ªäººç”Ÿæ´»ä¸­ä¸æ€ä¹ˆæåˆ°è¿™ä¸ªè¯äº†ï¼Œå› ä¸ºå®ƒæœ‰ç‚¹æ²‰é‡å’Œè½äºæ—¶ä»£ï¼Œä½†æˆ‘è§‰å¾—è¿˜æ˜¯å¾ˆé‡è¦ã€‚å°±åƒä¹¦ä¸­å†™çš„ï¼Œä½ è¦æˆä¸ºä½ çˆ¶äº²è‘¬ç¤¼ä¸Šæœ€å€¼å¾—ä¾é çš„äººï¼Œä¸ºä½ çš„å®¶äººè´Ÿèµ·è´£ä»»æ¥ã€‚å½“ç„¶æœ‰äº›äº‹æƒ…åªæœ‰ç»å†è¿‡ä¹‹åæ‰ä¼šçŸ¥é“ï¼Œç‰¹åˆ«æ˜¯è¿‡ç”Ÿæ´»ï¼Œä½ æƒ³çš„ç‰¹åˆ«ç¾å¥½çš„æ—¶å€™ï¼Œæ›´å¤šæ˜¯çº¸ä¸Šè°ˆå…µï¼Œæˆ‘æƒ³è¡¨æ˜çš„æ˜¯è¿™å½“ç„¶ä¸å‡ï¼Œè¿™å’Œ12æ¡æ³•åˆ™å¹¶ä¸å†²çªï¼Œç”šè‡³è¿™12æ¡æ³•åˆ™å¯ä»¥ä½œä¸ºä½ ç”Ÿæ´»å·¥ä½œçš„æŒ‡å¯¼æ€æƒ³ä¹‹ä¸€ã€‚ä½†æ˜¯ä½ éœ€è¦æå‰çŸ¥é“è¿™äº›ä¿¡æ¯ï¼Œæå‰åœ¨ä½ çš„å†…å¿ƒå’Œè„‘æµ·ä¸­ç§ä¸‹ä¸€é¢—åšéŸ§çš„ç§å­ï¼Œç„¶åæŠŠæ¯ä¸€æ¬¡çš„ç»å†éƒ½ä½œä¸ºå…¶æˆé•¿çš„è‚¥æ–™ã€‚ç½—æ›¼ç½—å…°è¯´è¿‡ä¸€å¥è¯ï¼Œâ€œç”Ÿæ´»ä¸­åªæœ‰ä¸€ç§æ­£çœŸçš„è‹±é›„ä¸»ä¹‰ï¼Œå°±æ˜¯è®¤æ¸…ç”Ÿæ´»çš„çœŸç›¸ä¹‹åä¾ç„¶çƒ­çˆ±å®ƒâ€ã€‚æ‰€ä»¥è¯·ä¸è¦å®³æ€•ç”Ÿæ´»ä¸­é‡åˆ°çš„æŒ«æŠ˜ã€å›°éš¾ï¼Œæ˜ç¡®ä½ è‡ªå·±çš„äººç”ŸæŒ‡å¯¼æ³•åˆ™ï¼Œè¿™12æ¡æ³•åˆ™åªæ˜¯çš®å¾—æ£®æ•™æˆè‡ªå·±ä½œä¸ºä¸´åºŠå¿ƒç†å­¦å®¶çš„æ€»ç»“ï¼Œæˆ‘ä»¬å¯ä»¥ä½œä¸ºå‚è€ƒï¼Œè¿˜æ˜¯éœ€è¦è®°å½•é€‚åˆè‡ªå·±çš„äººç”Ÿæ³•åˆ™ã€‚ä½†æ˜¯ï¼Œå¯¹æˆ‘è‡ªå·±æ¥è¯´ï¼Œè´£ä»»ã€åšéŸ§ã€è¯šå®å’Œè¿½æ±‚æ„ä¹‰è¿™äº›å­˜åœ¨äº†å¾ˆä¹…çš„äººç”Ÿå“è´¨ï¼Œæ¯«æ— ç–‘é—®ä¼šä½œä¸ºæˆ‘äººç”Ÿæ³•åˆ™ä¹‹ä¹¦çš„åšå®åŸºç¡€ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘è¿˜ç‰¹åˆ«æƒ³è¦æŒ‡å‡ºä¸€ç‚¹çš„æ˜¯ï¼Œè¿™12æ¡æ³•åˆ™å¤šæ•°æ˜¯è¦æ±‚ä½ ä»è‡ªèº«åšèµ·ï¼Œå’Œæ˜¨å¤©çš„è‡ªå·±æ¯”ï¼Œåˆ«å’Œä»Šå¤©çš„åˆ«äººæ¯”ã€‚å’Œåˆ«äººæ¯”è¾ƒæ˜¯é€ æˆä½ ç”Ÿæ´»ç—›è‹¦çš„é‡è¦åŸå› ä¹‹ä¸€ï¼Œå› ä¸ºè¿™æ ·æœ‰äº†æœŸå¾…ã€æœ‰äº†å«‰å¦’ï¼Œä½ å¤§è„‘ä¸­çš„å¤šå·´èƒºæ¬²æœ›å›è·¯è¢«æŒç»­åˆºæ¿€ï¼Œåªæƒ³è¦æ›´å¤šï¼Œè¿™æ ·åœ¨åŸæœ¬å°±æ˜¯ç—›è‹¦çš„äººç”ŸåŸºç¡€ä¸Šæ›´åŠ çš„ç—›è‹¦ã€‚è¿˜æœ‰ï¼Œè¿™äº›æ³•åˆ™æ°¸è¿œè¦é€šè¿‡ä½ è‡ªèº«çš„ç†è§£ï¼Œèå…¥åˆ°ä½ çš„ç”Ÿæ´»å·¥ä½œä¸­ï¼Œç”¨æ¥æŒ‡å¯¼ä½ çš„äººç”Ÿï¼Œåƒä¸‡ä¸è¦ä½œä¸ºä½ å–å¼„çš„èµ„æœ¬ï¼Œæƒ³è¦å¼ºåŠ åœ¨åˆ«äººèº«ä¸Šï¼Œé‡åˆ°ç”Ÿæ´»è¿‡çš„è‰°éš¾çš„äººï¼Œå¤šç»™ä»–ä»¬æŠ¥æœ‰ä¸€ç‚¹å–„æ„å§ï¼Œä¸è¦è¯´é‚£äº›è¿‡å¾—ä¸å¥½æ˜¯è‡ªèº«ä¸åŠªåŠ›çš„å±è¯ï¼Œä½ çš„è¿™äº›è¯…å’’æœ€ç»ˆéƒ½ä¼šè¢«ä½ è‡ªå·±åå™¬ã€‚è¿™ä¸ªä¸–ç•ŒåŒ…å«çš„æ¯”ä½ å…³æ³¨çš„å¤šå¤ªå¤šäº†ï¼Œä½ å¿…é¡»è®¤çœŸåˆ†é…æœ‰é™çš„èµ„æºã€‚&lt;/p&gt;

&lt;p&gt;è‹æ ¼æ‹‰åº•çš„é€‰æ‹©ï¼šè¿½æ±‚æ„ä¹‰ï¼Œæ‹’ç»è‹Ÿä¸”ã€‚&lt;/p&gt;

&lt;p&gt;æˆ‘çš„é€‰æ‹©ï¼šæ‰¿æ‹…è´£ä»»ï¼Œè¿½æ±‚ä»·å€¼ï¼Œå¯»æ‰¾æ„ä¹‰ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ç›¸å…³é“¾æ¥&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.youtube.com/@JordanBPeterson&quot;&gt;ä¹”ä¸¹â€¢çš®å¾—æ£®æ•™æˆçš„YouTubeä¸»é¡µ&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://book.douban.com/subject/34870933/&quot;&gt;è±†ç“£ï¼šäººç”ŸåäºŒæ³•åˆ™&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.zhihu.com/zvideo/1543581948072660992&quot;&gt;ä¹”ä¸¹â€¢çš®å¾—æ£®æ•™æˆåˆ†äº«ç‰‡æ®µï¼šè¦æ•¢äºè¡¨è¾¾è‡ªæˆ‘å¹¶è¯æ˜è‡ªå·±&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><author><name>Wanjin Hu (èƒ¡ä¸‡é‡‘)</name></author><category term="Life" /><summary type="html">çœŸçš„æœ‰12æ¡æ³•åˆ™å¯ä»¥æ¥æŒ‡å¯¼ä½ è¿‡çš„äººç”Ÿä¹ˆï¼Ÿæˆ‘å¼€å§‹æ€è€ƒè‡ªå·±çš„äººç”Ÿã€‚</summary></entry><entry><title type="html">å®åŸºå› ç»„åˆ†ææµç¨‹</title><link href="http://localhost:4000/2023/08/10/pipeline-metagenomic-analysis/" rel="alternate" type="text/html" title="å®åŸºå› ç»„åˆ†ææµç¨‹" /><published>2023-08-10T00:00:00+08:00</published><updated>2023-08-10T00:00:00+08:00</updated><id>http://localhost:4000/2023/08/10/pipeline-metagenomic-analysis</id><content type="html" xml:base="http://localhost:4000/2023/08/10/pipeline-metagenomic-analysis/">&lt;p&gt;æä¾›ä¸€ä¸ªå®åŸºå› ç»„åˆ†ææµç¨‹ã€‚&lt;/p&gt;

&lt;p&gt;Here is a metagenomic sequence data analysis pipeline, nothing different with other pipelines. But if you want to get to know the metagenomic analysis pipeline step by step, maybe you can get some details from this repository. And it is suitable for the beginners i think.&lt;/p&gt;

&lt;p&gt;Scripts and test files you can find here: &lt;a href=&quot;https://github.com/wanjinhu/Metagenomic-Analysis-Pipeline&quot;&gt;Metagenomic-Analysis-Pipeline&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;pipeline-overview-&quot;&gt;Pipeline overview ğŸ«&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;Raw sequence quality trim&lt;/li&gt;
  &lt;li&gt;Host reference sequence remove&lt;/li&gt;
  &lt;li&gt;Metaphlan for composition of microbial communities&lt;/li&gt;
  &lt;li&gt;Sequence assembly&lt;/li&gt;
  &lt;li&gt;Gene prediction&lt;/li&gt;
  &lt;li&gt;Remove redundancy gene and build non-redundant geneset&lt;/li&gt;
  &lt;li&gt;Function annotation using emapper&lt;/li&gt;
  &lt;li&gt;Organize function results table&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;quick-start-&quot;&gt;Quick start ğŸ¦&lt;/h2&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$python&lt;/span&gt; pipe_metagenome.py &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;
usage: 
&lt;span class=&quot;o&quot;&gt;=================================================================&lt;/span&gt;
python pipe_metagenome.py
	&lt;span class=&quot;nt&quot;&gt;--fastq_list&lt;/span&gt; fq.list
	&lt;span class=&quot;nt&quot;&gt;--output_dir&lt;/span&gt; result
	&lt;span class=&quot;nt&quot;&gt;--ref&lt;/span&gt; ref_bowtie2_index
ref_bowtie2_index:
canis: /root/database/Canis_GCF_000002285.5/Canis_GCF_000002285_5
human: /root/database/hg38_GCF_000001405.40/GCF_000001405.40/hg38
&lt;span class=&quot;o&quot;&gt;=================================================================&lt;/span&gt;

Pipeline of metagenome

optional arguments:
  &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;, &lt;span class=&quot;nt&quot;&gt;--help&lt;/span&gt;            show this &lt;span class=&quot;nb&quot;&gt;help &lt;/span&gt;message and &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;-l&lt;/span&gt; FQLIST, &lt;span class=&quot;nt&quot;&gt;--fastq_list&lt;/span&gt; FQLIST
                        raw fq list
  &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; OUTDIR, &lt;span class=&quot;nt&quot;&gt;--output_dir&lt;/span&gt; OUTDIR
                        result output
  &lt;span class=&quot;nt&quot;&gt;-r&lt;/span&gt; REF, &lt;span class=&quot;nt&quot;&gt;--ref&lt;/span&gt; REF     ref genome bowtie2 index
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What you need to do is to provide two input files:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;â€“fastq_list # sample - fq_R1 - fq_R2 list, format like &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;fq.list&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;â€“ref # host reference genome bowtie2 index&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And set output dir &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;--output_dir&lt;/code&gt;, all of output results would be included.&lt;/p&gt;

&lt;h2 id=&quot;output-files-explanation-&quot;&gt;Output files explanation ğŸŠ&lt;/h2&gt;
&lt;h3 id=&quot;output-files-tree-not-show-all-files&quot;&gt;Output files tree (not show all files)&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;â”œâ”€â”€ 00-result                           &lt;span class=&quot;c&quot;&gt;# most important results in this fold&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 00_merged_abundance_table.txt   &lt;span class=&quot;c&quot;&gt;# composition of microbial communities&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 01_metaphlan_phylum.txt         &lt;span class=&quot;c&quot;&gt;# communities in phylum level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 02_metaphlan_class.txt          &lt;span class=&quot;c&quot;&gt;# communities in class level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 03_metaphlan_order.txt          &lt;span class=&quot;c&quot;&gt;# communities in order level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 04_metaphlan_family.txt         &lt;span class=&quot;c&quot;&gt;# communities in family level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 05_metaphlan_genus.txt          &lt;span class=&quot;c&quot;&gt;# communities in genus level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ 06_metaphlan_species.txt        &lt;span class=&quot;c&quot;&gt;# communities in species level&lt;/span&gt;
â”‚Â Â  â”œâ”€â”€ KO_samples.xls                  &lt;span class=&quot;c&quot;&gt;# KEGG KO gene composition table&lt;/span&gt;
â”‚Â Â  â””â”€â”€ pathway_samples.xls             &lt;span class=&quot;c&quot;&gt;# KEGG pathway composition table&lt;/span&gt;
â”œâ”€â”€ 01-fastp_trim
â”œâ”€â”€ 02-ref_remove
â”œâ”€â”€ 03-metaphlan
â”œâ”€â”€ 04-megahit
â”œâ”€â”€ 05-prodigal
â”œâ”€â”€ 06-cdhit
â”œâ”€â”€ 07-emapper
â”œâ”€â”€ 08-sam_count
â”œâ”€â”€ 09-emapper_kegg
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h3 id=&quot;output-important-result-files-explanation&quot;&gt;Output important result files explanation&lt;/h3&gt;
&lt;h4 id=&quot;metaphlan_diff-levelstxt&quot;&gt;metaphlan_diff-levels.txt&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;column 1 : communities information&lt;/li&gt;
  &lt;li&gt;column 2 ~ : communities abundance percent of samples
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;clade_name	C1
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Firmicutes	86.51132
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Actinobacteria	6.52203
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Bacteroidetes	4.24729
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Proteobacteria	1.96422
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Fusobacteria	0.75514
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Tenericutes	0.0
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Spirochaetes	0.0
k__Bacteria&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;p__Verrucomicrobia	0.0
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;ko_samplesxls&quot;&gt;KO_samples.xls&lt;/h4&gt;
  &lt;/li&gt;
  &lt;li&gt;column 1 : KO gene name&lt;/li&gt;
  &lt;li&gt;column 2 : KO gene description&lt;/li&gt;
  &lt;li&gt;column 3 : KO gene id&lt;/li&gt;
  &lt;li&gt;column 4 ~ : KO gene number of samples
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;KO_name	KO_des	KO	C1
&lt;span class=&quot;s2&quot;&gt;&quot;E1.1.1.1, adh&quot;&lt;/span&gt;	alcohol dehydrogenase &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;EC:1.1.1.1]	K00001	2817.0
&lt;span class=&quot;s2&quot;&gt;&quot;AKR1A1, adh&quot;&lt;/span&gt;	alcohol dehydrogenase &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;NADP+&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;EC:1.1.1.2]	K00002	254.0
hom	homoserine dehydrogenase &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;EC:1.1.1.3]	K00003	2890.0
&lt;span class=&quot;s2&quot;&gt;&quot;BDH, butB&quot;&lt;/span&gt;	&lt;span class=&quot;s2&quot;&gt;&quot;(R,R)-butanediol dehydrogenase / meso-butanediol dehydrogenase / diacetyl reductase [EC:1.1.1.4 1.1.1.- 1.1.1.303]&quot;&lt;/span&gt;	K00004	20.0
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
    &lt;h4 id=&quot;pathway_samplesxls&quot;&gt;pathway_samples.xls&lt;/h4&gt;
  &lt;/li&gt;
  &lt;li&gt;column 1 : pathway level 1&lt;/li&gt;
  &lt;li&gt;column 2 : pathway level 2&lt;/li&gt;
  &lt;li&gt;column 3 : pathway level 3&lt;/li&gt;
  &lt;li&gt;column 4 : pathway id&lt;/li&gt;
  &lt;li&gt;column 5 ~ : pathway gene number of samples
    &lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;level1	level2	level3	pathway	C1
Metabolism	Carbohydrate metabolism	Glycolysis / Gluconeogenesis	ko00010	91005.0
Metabolism	Carbohydrate metabolism	Citrate cycle &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;TCA cycle&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;	ko00020	31442.0
Metabolism	Carbohydrate metabolism	Pentose phosphate pathway	ko00030	53905.0
Metabolism	Carbohydrate metabolism	Pentose and glucuronate interconversions	ko00040	21334.0
...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;step-by-step-&quot;&gt;Step by step ğŸ¦¥&lt;/h2&gt;
&lt;h3 id=&quot;step1-raw-sequence-quality-trim-using-fastp&quot;&gt;Step1 Raw sequence quality trim using fastp&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fastp &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; sample_1.fastq.gz &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; sample_clean.1.fastq.gz &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-I&lt;/span&gt; sample_2.fastq.gz &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-O&lt;/span&gt; sample_clean.2.fastq.gz &lt;span class=&quot;se&quot;&gt;\&lt;/span&gt;
      &lt;span class=&quot;nt&quot;&gt;-w&lt;/span&gt; 8 &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt; sample.html &lt;span class=&quot;nt&quot;&gt;-j&lt;/span&gt; sample.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step2-host-reference-sequence-remove&quot;&gt;Step2 Host reference sequence remove&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bowtie2 &lt;span class=&quot;nt&quot;&gt;-x&lt;/span&gt; ref_bowtie2_index &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; sample_clean.1.fastq.gz &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; sample_clean.2.fastq.gz &lt;span class=&quot;nt&quot;&gt;-S&lt;/span&gt; sample.sam  2&amp;gt;sample.mapping.log
samtools fastq -@ 8 &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; 4 sample.sam &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; sample.unmap.1.fastq.gz &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; sample.unmap.2.fastq.gz &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; sample.unmap.single.fastq.gz
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step3-metaphlan-for-composition-of-microbial-communities&quot;&gt;Step3 Metaphlan for composition of microbial communities&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;zcat sample.unmap.1.fastq.gz sample.unmap.2.fastq.gz|metaphlan &lt;span class=&quot;nt&quot;&gt;--input_type&lt;/span&gt; fastq &lt;span class=&quot;nt&quot;&gt;--bowtie2out&lt;/span&gt; sample_bowtie2.bz2 &lt;span class=&quot;nt&quot;&gt;--output_file&lt;/span&gt; sample_metaphlan.tsv &lt;span class=&quot;nt&quot;&gt;--nproc&lt;/span&gt; 8
&lt;span class=&quot;c&quot;&gt;# when you install metaphlan in the system, you will get script &apos;merge_metaphlan_tables.py&apos;, that&apos;s for merge different samples metaphlan result in one file, like: &lt;/span&gt;
merge_metaphlan_tables.py &lt;span class=&quot;k&quot;&gt;*&lt;/span&gt;.tsv &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 00_merged_abundance_table.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(p__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;c__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 01_metaphlan_phylum.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(c__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;o__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 02_metaphlan_class.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(o__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;f__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 03_metaphlan_order.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(f__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;g__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 04_metaphlan_family.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(g__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;s__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 05_metaphlan_genus.txt
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-E&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;(s__)|(clade_name)&apos;&lt;/span&gt; 00_merged_abundance_table.txt |grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;t__&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/|/;/g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 06_metaphlan_species.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step4-sequence-assembly-and-trim-contigs-which-length--500bp&quot;&gt;Step4 Sequence assembly and trim contigs which length &amp;lt; 500bp&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;megahit &lt;span class=&quot;nt&quot;&gt;-1&lt;/span&gt; sample.unmap.1.fastq.gz &lt;span class=&quot;nt&quot;&gt;-2&lt;/span&gt; sample.unmap.2.fastq.gz &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; sample_megahit &lt;span class=&quot;nt&quot;&gt;--out-prefix&lt;/span&gt; sample &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; 8
seqkit &lt;span class=&quot;nb&quot;&gt;seq&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; 500 sample_megahit/sample.contigs.fa &lt;span class=&quot;nt&quot;&gt;--remove-gaps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; sample.contigs_500.fa
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;s/&amp;gt;/&amp;gt;sample_/g&apos;&lt;/span&gt; sample.contigs_500.fa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step5-gene-prediction-using-prodigal&quot;&gt;Step5 Gene prediction using prodigal&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;prodigal &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; meta &lt;span class=&quot;nt&quot;&gt;-a&lt;/span&gt; sample_prot.faa &lt;span class=&quot;nt&quot;&gt;-m&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; sample_nucl.fna &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; sample_genes.gff &lt;span class=&quot;nt&quot;&gt;-f&lt;/span&gt; gff &lt;span class=&quot;nt&quot;&gt;-s&lt;/span&gt; sample.stat &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; sample.contigs_500.fa
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step6-remove-redundancy-gene-and-build-non-redundant-geneset&quot;&gt;Step6 Remove redundancy gene and build non-redundant geneset&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;sample1_prot.faa sample2_prot.faa ... &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;  prot.faa
&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;sample1_nucl.fna sample2_nucl.fna ... &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;  nucl.fna
cd-hit &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; prot.faa &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; prot_nonerude.faa &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; 0.95 &lt;span class=&quot;nt&quot;&gt;-T&lt;/span&gt; 8 &lt;span class=&quot;nt&quot;&gt;-n&lt;/span&gt; 5 &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;-aS&lt;/span&gt; 0.9 &lt;span class=&quot;nt&quot;&gt;-g&lt;/span&gt; 1 &lt;span class=&quot;nt&quot;&gt;-sc&lt;/span&gt; 1 &lt;span class=&quot;nt&quot;&gt;-sf&lt;/span&gt; 1 &lt;span class=&quot;nt&quot;&gt;-M&lt;/span&gt; 0
&lt;span class=&quot;nb&quot;&gt;grep&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;&amp;gt;&apos;&lt;/span&gt; prot_nonerude.faa|awk &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos; &apos;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;{print $1}&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/&amp;gt;//g&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; prot_nonerude.list
seqtk subseq nucl.fna prot_nonerude.list &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; nucl_nonerude.fna
bwa index nucl_nonerude.fna &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; geneset_bwa
bioawk &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; fastx &lt;span class=&quot;s1&quot;&gt;&apos;{print $name, length($seq)}&apos;&lt;/span&gt; nucl_nonerude.fna &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; geneset_length.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step7-function-annotation-using-emapper&quot;&gt;Step7 Function annotation using emapper&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# when you install emapper in the system, you will get script &apos;emapper.py&apos;&lt;/span&gt;
emapper.py &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; prot_nonerude.faa &lt;span class=&quot;nt&quot;&gt;-o&lt;/span&gt; eggnog &lt;span class=&quot;nt&quot;&gt;--cpu&lt;/span&gt; 0 &lt;span class=&quot;nt&quot;&gt;--usemem&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f1&lt;/span&gt;,12 eggnog.emapper.annotations|grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;^#&quot;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;s/ko://g&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;1i gene\tko&apos;&lt;/span&gt;|grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; KEGG_KO.txt
&lt;span class=&quot;nb&quot;&gt;cut&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-f1&lt;/span&gt;,13 eggnog.emapper.annotations|grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;^#&quot;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;1i gene\tpathway&apos;&lt;/span&gt;|grep &lt;span class=&quot;nt&quot;&gt;-v&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;-&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; KEGG_PATHWAY.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step8-gene-num-count&quot;&gt;Step8 Gene num count&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bwa mem &lt;span class=&quot;nt&quot;&gt;-t&lt;/span&gt; 4 geneset_bwa sample.unmap.1.fastq.gz sample.unmap.2.fastq.gz | samtools view &lt;span class=&quot;nt&quot;&gt;-bS&lt;/span&gt; - | samtools &lt;span class=&quot;nb&quot;&gt;sort&lt;/span&gt; - &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; sample_mapping_geneset.bam
samtools view &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; 4 &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; 256 &lt;span class=&quot;nt&quot;&gt;-F&lt;/span&gt; 2048 sample_mapping_geneset.bam|awk &lt;span class=&quot;s1&quot;&gt;&apos;{if($3!=&quot;*&quot;) print $3}&apos;&lt;/span&gt;|sort| &lt;span class=&quot;nb&quot;&gt;uniq&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt;|awk &lt;span class=&quot;s1&quot;&gt;&apos;BEGIN {FS=&quot; &quot;;OFS=&quot;,&quot;} {print $2,$1}&apos;&lt;/span&gt; | &lt;span class=&quot;nb&quot;&gt;awk&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&apos;BEGIN {FS=&quot;,&quot;;OFS=&quot;,&quot;} {if ($2 &amp;gt; 1) print $1&quot;\t&quot;$2; else print $1&quot;\t0&quot;}&apos;&lt;/span&gt;|sed &lt;span class=&quot;s1&quot;&gt;&apos;1i gene\tsample&apos;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; sample.count
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;step9-organize-function-results-table&quot;&gt;Step9 Organize function results table&lt;/h3&gt;
&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# using /kegg/kegg.py to analysis, like:&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$python&lt;/span&gt; kegg.py &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;
usage: python kegg.py &lt;span class=&quot;nt&quot;&gt;-kk&lt;/span&gt; KEGG_KO.txt &lt;span class=&quot;nt&quot;&gt;-kp&lt;/span&gt; KEGG_PATHWAY.txt &lt;span class=&quot;nt&quot;&gt;-mt&lt;/span&gt; merged_file.txt &lt;span class=&quot;nt&quot;&gt;-ok&lt;/span&gt; out_KO.xls &lt;span class=&quot;nt&quot;&gt;-op&lt;/span&gt; out_pathway.xls

Merge KO/pathway count table from eggnog result.

optional arguments:
  &lt;span class=&quot;nt&quot;&gt;-h&lt;/span&gt;, &lt;span class=&quot;nt&quot;&gt;--help&lt;/span&gt;            show this &lt;span class=&quot;nb&quot;&gt;help &lt;/span&gt;message and &lt;span class=&quot;nb&quot;&gt;exit&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;-kk&lt;/span&gt; KEGGKO, &lt;span class=&quot;nt&quot;&gt;--kegg_KO&lt;/span&gt; KEGGKO
                        Sample&lt;span class=&quot;s1&quot;&gt;&apos;s kegg KO information, such as KEGG_KO.txt
  -kp KEGGPATHWAY, --kegg_pathway KEGGPATHWAY
                        Sample&apos;&lt;/span&gt;s kegg pathway information, such as
                        KEGG_PATHWAY.txt
  &lt;span class=&quot;nt&quot;&gt;-mt&lt;/span&gt; MERGETABLE, &lt;span class=&quot;nt&quot;&gt;--merge_table&lt;/span&gt; MERGETABLE
                        Sample&lt;span class=&quot;s1&quot;&gt;&apos;s merged gene count table, such as
                        merged_file.txt
  -ok OUTKO, --out_KO OUTKO
                        Output KO result, such as out_KO.xls
  -op OUTPATHWAY, --out_pathway OUTPATHWAY
                        Output pathway result, such as out_pathway.xls
  -t TMP, --tmp TMP     Tmp files dir
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;h2 id=&quot;contact-&quot;&gt;Contact ğŸ–&lt;/h2&gt;
&lt;p&gt;Wanjin Hu (wanjin.hu@outlook.com)&lt;/p&gt;</content><author><name>Wanjin Hu (èƒ¡ä¸‡é‡‘)</name></author><category term="Metagenomic" /><summary type="html">æä¾›ä¸€ä¸ªå®åŸºå› ç»„åˆ†ææµç¨‹ã€‚</summary></entry></feed>